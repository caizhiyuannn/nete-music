(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e97f2"],{"8e7f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"video-detail"},[a("NeteHeader"),a("NeteDetail",{attrs:{headerTitle:"视频详情",title:e.videodata.title,avatarUrl:e.getPlayListValue(e.videodata,"avatarUrl"),artistName:e.getPlayListValue(e.videodata,"creator.nickname"),commonData:e.videodata,relatedVideo:e.relatedVideo,comments:e.comments,hotComments:e.hotComments,videoURL:e.videoURL,publishTime:e.getPlayListValue(e.videodata,"publishTime"),playCount:e.videodata.playTime,articulation:e.articulation},on:{"click-video":e.routerpush}})],1)},r=[],i=a("a34a"),o=a.n(i),c=a("71c2"),s=a("5358"),u=a("ed08"),d=a("365c");function l(e,t,a,n,r,i,o){try{var c=e[i](o),s=c.value}catch(u){return void a(u)}c.done?t(s):Promise.resolve(s).then(n,r)}function h(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function o(e){l(i,n,r,o,c,"next",e)}function c(e){l(i,n,r,o,c,"throw",e)}o(void 0)}))}}var f={name:"NeteVideoDetail",components:{NeteDetail:s["a"],NeteHeader:c["a"]},props:{id:{type:[String,Number],required:!0}},data:function(){return{videodata:{},relatedVideo:[],artists:{},comments:[],hotComments:[],videoURL:"",articulation:[]}},methods:{getPlayListValue:u["getPlayListValue"],fetchVideoDetail:function(){var e=this;return h(o.a.mark((function t(){var a,n,r;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.next=3,Object(d["p"])(a);case 3:n=t.sent,r=n.data,Object.keys(r).forEach((function(t){return e.$set(e.videodata,t,r[t])}));case 6:case"end":return t.stop()}}),t)})))()},fetchVideoURL:function(){var e=this;return h(o.a.mark((function t(){var a,n,r;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["q"])(e.id);case 2:a=t.sent,n=a.urls,r=n.slice(0,1).pop(),e.videoURL=r.url,n.forEach((function(t,a){e.$set(e.articulation,a,{name:t.r,url:t.url})})),console.log(e.articulation);case 8:case"end":return t.stop()}}),t)})))()},fetchRelated:function(e){var t=this;return h(o.a.mark((function a(){var n,r;return o.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(d["a"])(e);case 2:n=a.sent,r=n.data,r.forEach((function(e,a){return t.$set(t.relatedVideo,a,e)}));case 5:case"end":return a.stop()}}),a)})))()},fetchComments:function(e){var t=this;return h(o.a.mark((function a(){var n,r,i;return o.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(d["o"])(e);case 2:n=a.sent,r=n.comments,i=n.hotComments,r.forEach((function(e,a){return t.$set(t.comments,a,e)})),i.forEach((function(e,a){return t.$set(t.hotComments,a,e)}));case 7:case"end":return a.stop()}}),a)})))()},updatePage:function(){var e=this;return h(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchVideoDetail();case 2:e.fetchVideoURL(),e.fetchRelated(e.videodata.vid),e.fetchComments(e.videodata.vid);case 5:case"end":return t.stop()}}),t)})))()},routerpush:function(e){var t=e.id,a=e.type;switch(console.log(e),a){case 0:this.$router.push({name:"MVDetail",params:{id:t}});break;case 1:console.log("1"),this.$router.push({name:"VideoDetail",params:{id:t}});break;default:break}}},mounted:function(){var e=this;return h(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.updatePage();case 2:case"end":return t.stop()}}),t)})))()},beforeRouteUpdate:function(e,t,a){this.updatePage(),a()}},m=f,p=a("2877"),v=Object(p["a"])(m,n,r,!1,null,null,null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d0e97f2.fbb32416.js.map