{"version":3,"sources":["webpack:///./src/views/video/mv-detail.vue?b6b6","webpack:///src/views/video/mv-detail.vue","webpack:///./src/views/video/mv-detail.vue?ff76","webpack:///./src/views/video/mv-detail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","mvdata","name","artists","img1v1Url","artistName","relatedVideo","comments","hotComments","videoURL","publishTime","playCount","on","routerpush","staticRenderFns","components","NeteHeader","NeteDetail","props","id","type","String","Number","required","data","methods","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,cAAcA,EAAG,aAAa,CAACG,MAAM,CAAC,YAAc,OAAO,MAAQP,EAAIQ,OAAOC,KAAK,UAAYT,EAAIU,QAAQC,UAAU,WAAaX,EAAIQ,OAAOI,WAAW,WAAaZ,EAAIQ,OAAO,aAAeR,EAAIa,aAAa,SAAWb,EAAIc,SAAS,YAAcd,EAAIe,YAAY,SAAWf,EAAIgB,SAAS,YAAchB,EAAIQ,OAAOS,YAAY,UAAYjB,EAAIQ,OAAOU,WAAWC,GAAG,CAAC,cAAcnB,EAAIoB,eAAe,IAC7gBC,EAAkB,G,qXC6BtB,OACEZ,KAAM,eACNa,WAAY,CACVC,WAAJ,OACIC,WAAJ,QAEEC,MAAO,CACLC,GAAI,CACFC,KAAM,CAACC,OAAQC,QACfC,UAAU,IAGdC,KAZF,WAaI,MAAO,CACLvB,OAAQ,GACRK,aAAc,GACdH,QAAS,GACTI,SAAU,GACVC,YAAa,GACbC,SAAU,KAGdgB,QAAS,CACP,cADJ,WACA,8HACA,OADA,SAEA,kBAFA,gBAEA,EAFA,EAEA,KACA,2CACA,2BAJA,8CAOI,cARJ,WAQA,qIACA,qBADA,gBACA,EADA,EACA,KACA,iBAFA,8CAII,eAZJ,SAYA,wIACA,kBADA,gBACA,EADA,EACA,KACA,8DAFA,8CAII,iBAhBJ,SAgBA,wIACA,kBADA,gBACA,EADA,EACA,OACA,uEAFA,8CAII,cApBJ,SAoBA,0IACA,kBADA,gBACA,EADA,EACA,WADA,EACA,YACA,0DACA,6DAHA,8CAKIZ,WAzBJ,SAyBA,OACA,gBACM,OAAQO,GACN,KAAK,EAEb,mDACA,MAEQ,KAAK,EAEb,sDACA,MAEQ,QACR,SAKE,QAlEF,WAkEA,oHACA,kBADA,SAEA,kBAFA,OAGA,kBACA,sCACA,8BACA,6BANA,+CChGkW,I,YCO9VM,EAAY,eACd,EACAlC,EACAsB,GACA,EACA,KACA,KACA,MAIa,aAAAY,E","file":"js/chunk-2d22c16f.6883bbb6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mv-detail\"},[_c('NeteHeader'),_c('NeteDetail',{attrs:{\"headerTitle\":\"MV详情\",\"title\":_vm.mvdata.name,\"avatarUrl\":_vm.artists.img1v1Url,\"artistName\":_vm.mvdata.artistName,\"commonData\":_vm.mvdata,\"relatedVideo\":_vm.relatedVideo,\"comments\":_vm.comments,\"hotComments\":_vm.hotComments,\"videoURL\":_vm.videoURL,\"publishTime\":_vm.mvdata.publishTime,\"playCount\":_vm.mvdata.playCount},on:{\"click-video\":_vm.routerpush}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"mv-detail\">\n    <NeteHeader />\n    <NeteDetail\n      headerTitle=\"MV详情\"\n      :title=\"mvdata.name\"\n      :avatarUrl=\"artists.img1v1Url\"\n      :artistName=\"mvdata.artistName\"\n      :commonData=\"mvdata\"\n      :relatedVideo=\"relatedVideo\"\n      :comments=\"comments\"\n      :hotComments=\"hotComments\"\n      :videoURL=\"videoURL\"\n      :publishTime=\"mvdata.publishTime\"\n      :playCount=\"mvdata.playCount\"\n      @click-video=\"routerpush\"\n    />\n  </div>\n</template>\n\n<script>\nimport NeteDetail from '@/components/detail';\nimport NeteHeader from '@/components/header';\nimport {\n  getMVDetail,\n  getMVURL,\n  getArtists,\n  getMVComments,\n  getAllRelated,\n} from '@/api';\nexport default {\n  name: 'NeteMVDetail',\n  components: {\n    NeteHeader,\n    NeteDetail,\n  },\n  props: {\n    id: {\n      type: [String, Number],\n      required: true,\n    },\n  },\n  data() {\n    return {\n      mvdata: {},\n      relatedVideo: [],\n      artists: {},\n      comments: [],\n      hotComments: [],\n      videoURL: '',\n    };\n  },\n  methods: {\n    async fetchMVDetail() {\n      const id = this.id;\n      const { data } = await getMVDetail(id);\n      Object.keys(data).forEach((key) =>\n        this.$set(this.mvdata, key, data[key])\n      );\n    },\n    async fetchVideoURL() {\n      const { data } = await getMVURL(this.id);\n      this.videoURL = data.url;\n    },\n    async fetchMVRelated(id) {\n      const { data } = await getAllRelated(id);\n      data.forEach((d, idx) => this.$set(this.relatedVideo, idx, d));\n    },\n    async fetchArtistsInfo(artistId) {\n      const { artist } = await getArtists(artistId);\n      Object.keys(artist).forEach((k) => this.$set(this.artists, k, artist[k]));\n    },\n    async fetchComments(id) {\n      const { comments, hotComments } = await getMVComments(id);\n      comments.forEach((c, idx) => this.$set(this.comments, idx, c));\n      hotComments.forEach((c, idx) => this.$set(this.hotComments, idx, c));\n    },\n    routerpush(data) {\n      const { id, type } = data;\n      switch (type) {\n        case 0: {\n          // mv\n          this.$router.push({ name: 'MVDetail', params: { id: id } });\n          break;\n        }\n        case 1: {\n          // video\n          this.$router.push({ name: 'VideoDetail', params: { id: id } });\n          break;\n        }\n        default: {\n          break;\n        }\n      }\n    },\n  },\n  async mounted() {\n    console.log(this.id);\n    await this.fetchMVDetail();\n    this.fetchVideoURL();\n    this.fetchArtistsInfo(this.mvdata.artistId);\n    this.fetchMVRelated(this.mvdata.id);\n    this.fetchComments(this.mvdata.id);\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mv-detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mv-detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mv-detail.vue?vue&type=template&id=0c641ca7&\"\nimport script from \"./mv-detail.vue?vue&type=script&lang=js&\"\nexport * from \"./mv-detail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}